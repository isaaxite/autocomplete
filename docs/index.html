<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="../src/autocomplete.css">

	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="../src/autocomplete.js"></script>
</head>
<body>
	<div class="complete">
		<input type="text" name="">
	</div>
<script type="text/javascript">
var $search = $(".complete>input");
$search.completer({
	source: [1,11,111,2,22,222,2222],
	separator: '@', 
	parent: '.complete',
	suggest: false,
	style: {left: '0',minWidth: '195px'},
	/*setAttr: ['id','type'],
	ajax: {
		url: './data.php',
		// 返回的json需要处理
		key: 'title',
		filter: function(sender){
			return sender.data;
		}
	},*/
	search: function(){

		var $active = $(".completer-container>li.completer-selected");
		var data = {
			id: $active.attr('data-id'),
			type: $active.attr('data-type'),
		};
		switch(data.type){
			case 'draw': 
				location.href = "/Display/Products/detail/id/"+data.id+".html";
				break;
			case 'author':
				location.href = "/Display/Artists/detail/id/"+data.id+".html";
				break;
			case 'exhibition':
				location.href="/Display/Exhibition/scene/id/"+data.id+".html";
				break;
			default: alert("暂无数据");	

		}
	}

});
</script>
</body>
</html>